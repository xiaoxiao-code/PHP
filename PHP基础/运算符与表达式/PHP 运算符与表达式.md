# PHP 运算符与表达式

# 1 什么是表达式 (Expression)？

一个表达式是 PHP 中任何有“值”的东西。它可以是一个简单的常量（如 `5`）、一个变量（如 `$a`），也可以是使用运算符将多个值和变量组合起来的复杂形式（如 `$a + 5`）。
# 2 什么是运算符 (Operator)？
运算符是用来对一个或多个值（操作数）执行特定操作的符号。
# 3 算术运算符
用于执行基本的数学运算。由算术运算符组成的表达式称为**算术表达式**，其结果是一个整数或浮点数 。
- **双目运算符** ：
    - `+` (加)
    - `-` (减)
    - `*` (乘)
    - `/` (除): 当两侧为整数时，结果可以是整数或浮点数 。
    - `%` (取余/模): 当两侧为浮点数时，会先舍去小数部分取整，再进行运算，结果为整数 。
- **单目运算符** ：
    - `++` (自增)
    - `--` (自减)
    - 这两个运算符只能作用在**变量**上 。
    **`++` 和 `--` 的区别：**
    `$i++` (后增) 和 `++$i` (前增) 单独作为语句时，都等价于 `$i = $i + 1` 。但在表达式中：
- **`$j = $i++` (后增):** 先将 `$i` 的**原值**赋给 `$j`，**然后** `$i` 再加 1 。
- **`$j = ++$i` (前增):** 先将 `$i` 加 1，**然后**将**新值**赋给 `$j` 。
```php
<?php
$i = 3;
$j = $i++;
echo "$i, $j" . "<br>"; // 输出: 4, 3

$i = 3;
$j = ++$i;
echo "$i, $j"; // 输出: 4, 4
?>
```
# 4 关系运算符
用于比较两个操作数。由关系运算符组成的表达式称为**关系表达式**，其结果总是一个布尔值（`true` 或 `false`）。
- `>` (大于)
- `>=` (大于等于)
- `<` (小于)
- `<=` (小于等于)
- == (等于)
- `!=` (不等于)
**注意：特殊的比较规则**
- **数字 vs 字符串：** 字符串会先被转换成**数值**，然后再进行比较 。
- **两个数字字符串：** 两个字符串都会被当作**数值**来比较 。
**示例：**
```php
<?php
// 1. 数字 vs 字符串
var_dump(123.5 > "abc"); // "abc" 转为 0。实际比较 123.5 > 0。输出: bool(true)

// 2. 数字字符串 vs 数字字符串
var_dump("123.5" > "9.5"); // 两者都转为数值。实际比较 123.5 > 9.5。输出: bool(true)

// 3. 纯字符串 vs 纯字符串
var_dump("abc" > "z"); // 按字典顺序比较。输出: bool(false)
?>
```
# 5 逻辑运算符
用于组合或反转布尔值。由逻辑运算符组成的表达式称为**逻辑表达式**，其结果也是 `true` 或 `false` 。
- `!` (逻辑非): 将 `true` 变为 `false`，`false` 变为 `true`。
- `&&` (逻辑与): 只要有一个操作数为 `false`，结果就为 `false` 。
- `||` (逻辑或): 只要有一个操作数为 `true`，结果就为 `true` 。
**示例：** 
```php
$is_valid = ($age > 18) && ($has_ticket == true);
```
# 6 条件运算符 (三目运算符)
这是 PHP 中唯一一个需要三个操作数的运算符，常用于替代简单的 `if-else` 语句 。
- **格式：** `操作数1 ? 操作数2 : 操作数3`
- **逻辑：** 首先判断 `操作数1`，如果为 `true`，则整个表达式的值为 `操作数2` 的值；如果为 `false`，则值为 `操作数3` 的值 。
**示例：**
```php
$a = 3;
$b = 5;
// 查找 $a 和 $b 中的最大值
$max = $a > $b ? $a : $b;
echo $max; // 输出: 5
```
# 7 赋值运算符

用于给变量赋值。
- **简单赋值 (=)**
    `$a = 5;`
- **复合赋值** 它是一种简写形式，将一个算术运算和赋值运算合并。

|   **举例**   |  **含义 (等同于)**  |
| :--------: | :------------: |
| `$a += $b` | `$a = $a + $b` |
| `$a -= $b` | `$a = $a - $b` |
| `$a *= $b` | `$a = $a * $b` |
| `$a /= $b` | `$a = $a / $b` |
| `$a %= $b` | `$a = $a % $b` |

# 8 错误控制运算符 (`@`)
将 `@` 放置在一个 PHP 表达式之前，该表达式可能产生的**任何错误信息都将被忽略** 。
**示例：**
```php
// 如果 $var2 不存在，这行会产生一个 "Undefined variable" 警告
//$value = $var2; 

// 使用 @ 符号，警告将被压制，不会显示给用户
$value = @$var2; 

// 当要使用的变量名的值为 NULL 时，就必须在变量名前面加 @ 。
// （注：这通常用于抑制因访问未定义数组键而产生的 E_NOTICE 级别提示）
```