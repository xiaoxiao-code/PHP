# 基础知识

正则表达式（Regular Expression）是一种强大的工具，它使用一种特定的语法来描述字符串的“模式”（pattern）。

# 1 正则表达式的作用
正则表达式主要用于完成以下功能：
1. 测试字符串模式：检查一个输入字符串是否符合特定格式。例如，验证一个字符串是否是有效的电子邮件地址或身份证号码。
2. 替换文本：查找文档中所有符合特定模式的字符串，替换它们为其他内容。
3. 提取子字符串：根据模式匹配，从一个长字符串中精确地提取出需要的部分。
# 2 基本语法
在 PHP (Perl Compatible) 中，一个正则表达式是由两个斜杠（`/`）括住的字符串模式。
基本构成： 正则表达式由普通字符（如`a`~ `z`）和具有特殊意义的特殊字符（如`*`, `+`, `?`）组成。
# 3 使用特殊字符

| 字符特殊 |                              说明                               |                               效果                               |
| :--: | :-----------------------------------------------------------: | :------------------------------------------------------------: |
| `?`  |                        表示前面的字符有0个或1个。                         |                     `/ab?/`匹配 "a" 或 "ab"。                      |
| `*`  |                        表示前面的字符有0个或多个。                         |             `/ab*/`匹配 "a", "ab", "abb", "abbb" 等。              |
| `+`  |                        表示前面的字符有1个或多个。                         |           `/ab+/`匹配 "ab", "abb", "abbb" 等（但不匹配 "a"）。           |
| `{}` | 指定数量。<br>`{n}`: 正好n个。<br>`{n,}`: 大于等于n个。<br>`{m,n}`: m 到 n 个。 | `/ab{3}/`匹配“abb”。  <br>`/ab{3,5}/`匹配 "abbb", "abbbb", "abbbb"。 |
| `[]` |                     字符集。表示匹配`[]`内的任意一个字符。                     |         `/[0-9]/`匹配任意一个数字。<br>`/[aeiou]/`匹配任意一个小写元音字母。         |
| `.`  |                        匹配除换行符外的各个个性字符。                        |                      `/.{5}/`匹配任意 5 个角色。                       |
| `^`  |                          匹配字符串的开始位置。                          |                      `/^he/`匹配“he”开头的字符串。                      |
| `$`  |                          匹配字符串的结束位置。                          |                     `/he$/`匹配以“he”结尾的字符串。                      |
| `\d` |                     匹配任意一个数字（如下`[0-9]`）。                      |                       `/\d+/`匹配一个或多个数字。                        |
| `\w` |                    匹配任意一个单词字符（字母、数字或下划线）。                     |                         `/\w+/`匹配一个单词。                         |
| `\s` |                      匹配任意空白字符（空格、制表符等）。                       |                         `/\s+/`匹配一段空白。                         |
# 4 基础知识示例
结合上述特殊字符，可以构建出用于验证的实用模式：
- 邮政编码(6位数字)：
    - 正则表达式：`/[0-9]{6}/`
- 身份证号码(18位数字，或17位数字后加一个X或Y)：
    - 正则表达式：`/[0-9]{17}[0-9XY]/`
- 电子邮件地址（简化的示例）：
    - 正则表达式：`/[a-zA-Z0-9_\-]+@[a-zA-Z0-9]+\.[a-zA-Z0-9_.]+/`
    - 解析：
        - `[a-zA-Z0-9_\-]+`：匹配用户名部分，由一个或多个字母、数字、下划线或连字符组成。
        - `@`：匹配“@”符号。
        - `[a-zA-Z0-9_]+`：匹配主域名，由一个或多个字母、数字或下划线组成。
        - `\.`：匹配点号`.`(因为`.`是特殊字符，所以必须用`\`转义)。
        - `[a-zA-Z0-9_.]+`：匹配域名的剩余部分（如`.com`或`.com.cn`）。