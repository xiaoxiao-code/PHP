# 数组的创建和初始化

数组是PHP中最为重要的数据类型之一，它是一个可以在一个变量中存储多个值的“键/值”对集合。

# 1 使用 `array()` 函数创建数组
这是创建数组最主要和最通用的方法。
语法格式 ：
```php
数组名 = array([键名 =>] 值, ...);
```
- **键名 (Key)：** 数组中值的唯一标识符，可以是整数或字符串 。
- **值 (Value)：** 任何PHP数据类型。
根据键名的不同，`array()` 的使用方式分为以下几种：
## 1.1 索引数组 (默认整数键名)
如果创建数组时未指定键名，PHP 会自动使用从 `0` 开始的连续整数作为键名 。
示例 ：
```php
<?php
// 定义不带键名的数组
$arr1 = array(1, 2, 9, 10);
?>
```
**解析：** 上述代码等同于：
- `$arr1[0]` 的值是 `1`
- `$arr1[1]` 的值是 `2`
- `$arr1[2]` 的值是 `9`
- `$arr1[3]` 的值是 `10`
## 1.2 关联数组 (字符串键名)
可以为数组的每个值显式指定一个字符串作为键名。
示例 ：
```php
<?php
// 定义带键名的数组
$arr2 = array("color" => "blue", "name" => "pen");
?>
```
- **解析：**
    - `$arr2["color"]` 的值是 `"blue"`
    - `$arr2["name"]` 的值是 `"pen"`
## 1.3 混合键名
`array()` 函数允许混合使用自定义键名和默认键名。
- **规则：** 如果只有某些值未指定键名，则该值的键名默认为**该值前面最大的整数键名加 1** 。
示例：
```php
<?php
// 个别元素没有键名
$arr3 = array(1 => 5, 2 => 6, 4 => 1, 9, 10);
?>
```
**解析 ：**
- `$arr3[1]` 的值是 `5`
- `$arr3[2]` 的值是 `6`
- `$arr3[4]` 的值是 `1`
- 值 `9` 之前最大的整数键名是 `4`，因此 `9` 的键名被自动设置为 `5` (即 4 + 1)。
- 值 `10` 之前最大的整数键名是 `5`，因此 `10` 的键名被自动设置为 `6` (即 5 + 1)。
## 1.4 辅助函数：`print_r()` 和 `count()`
在创建数组时，有两个函数对于调试和验证至关重要：
- **`print_r(数组名)`**： 用于显示数组的结构，包括所有元素的键名和值 。这在调试时非常有用。
- **`count(数组名)`** 和 **`sizeof(数组名)`**： 这两个函数功能相同，用于获取数组中元素的个数 。
示例 ：
```php
<?php
$array = array(1, 2, 3, 6 => 7, 8, 9, 5, 10);
// 键名 8 的键是 7 (6+1)，键名 9 的键是 8 (7+1)...

// 1. 打印数组结构
print_r($array);
/*
输出:
Array
(
    [0] => 1
    [1] => 2
    [2] => 3
    [6] => 7
    [7] => 8
    [8] => 9
    [9] => 5
    [10] => 10
)
*/

// 2. 统计数组个数
echo count($array); // 输出: 8
?>
```
# 2 创建二维数组
通过在 `array()` 函数中嵌套 `array()` 函数，可以创建二维（或多维）数组 。
语法 ：
```php
数组名 = array(
    [键名1 =>] array(值1, ..., 值n),
    [键名2 =>] array(值1, ..., 值n)
);
```
示例 ：
```php
<?php
// 创建一个带字符串键名的二维数组
$arr1 = array(
    "color"  => array("红色", "绿色", "蓝色"),
    "number" => array(1, 2, 3, 4, 5)
);

// 访问二维数组元素
echo $arr1["color"][0]; // 输出: 红色
echo $arr1["number"][4]; // 输出: 5

// 打印结构
print_r($arr1);
?>
```
# 3 使用 `compact()` 函数创建数组
`compact()` 函数可以把多个**变量**“紧凑”成一个数组 。
- **规则：** 变量的**名称**成为数组元素的**键名**，变量的**值**成为数组元素的**值** 。
示例 ：
```php
<?php
$num = 8;
$str = "abc";
$arr = array(2, 4, 6);

// 将 $num, $str, $arr 三个变量压缩成一个新数组
$newarr = compact("num", "str", "arr");

print_r($newarr);
/*
输出:
Array
(
    [num] => 8
    [str] => abc
    [arr] => Array
        (
            [0] => 2
            [1] => 4
            [2] => 6
        )
)
*/
?>
```
# 4 使用 `range()` 函数建立数组
`range()` 函数可以快速建立一个值在指定范围内的数组 。
语法 ：
```php
数组名 = range(初值, 终值[, 步长值])
```
示例 ：
```php
<?php
// 创建一个从 1 到 5 的数组
$array1 = range(1, 5);
print_r($array1);
// 输出: Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [4] => 5 )
?>
```
# 5 自动建立数组 (直接赋值)
PHP 允许在不事先创建数组的情况下，直接为数组键名赋值。
- **规则：** 如果数组不存在，PHP 会自动创建它 。
示例 ：
```php
<?php
// $arr 数组此时不存在

// 在第一个语句运行时，如果 $arr 不存在，则自动创建一个
$arr[0] = "a";
$arr[1] = "b";
$arr[2] = "c";

print_r($arr);
// 输出: Array ( [0] => a [1] => b [2] => c )
?>
```