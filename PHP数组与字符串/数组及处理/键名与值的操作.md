# 键名与值的操作

在数组创建之后，PHP 提供了丰富的函数来检查、获取和遍历数组的键名（Keys）和值（Values）。

# 1 存在性检查
这类函数用于检查数组中是否存在某个键名或值。
## 1.1 `array_key_exists()` 函数
- **格式：** 
```php
array_key_exists(键名, 数组名)
```
- **功能：** 检查指定的 `键名` 是否存在于 `数组名` 中。如果存在，则返回 `true` 。
## 1.2 `in_array()` 函数

- **格式：**
```php
in_array(值, 数组名)
```
- **功能：** 检查指定的 `值` 是否存在于 `数组名` 中。如果存在，则返回 `true` 。
示例 ：
```php
<?php
$array = array(1, 2, 3, 5 => 4, 7 => 5);

// 检查键名 0 是否存在
if (array_key_exists(0, $array)) {
    echo "数组中存在键名 0<br>"; // 会输出
}

// 检查值 5 是否存在
if (in_array(5, $array)) {
    echo "数组中存在值 5"; // 会输出
}
?>
```
# 2 获取所有键名或值
这类函数用于将数组中的所有键名或所有值提取到一个新数组中。
## 2.1 `array_keys()` 函数
- **格式：** 
```php
数组名2 = array_keys(数组名1)
```
- **功能：** 将 `数组名1` 中的**所有键名**提取出来，存入 `数组名2` 中 。
## 2.2 `array_values()` 函数
- **格式：** 
```php
数组名2 = array_values(数组名1)
```
- **功能：** 将 `数组名1` 中的**所有值**提取出来，存入 `数组名2` 中 。
示例 ：
```php
<?php
$arr = array("color" => "red", "name" => "Sandy", "age" => 20);

// 获取所有键名
$keys = array_keys($arr);
print_r($keys);
// 输出: Array ( [0] => color [1] => name [2] => age )

// 获取所有值
$values = array_values($arr);
print_r($values);
// 输出: Array ( [0] => red [1] => Sandy [2] => 20 )
?>
```
# 3 分离数组为变量 (extract)
`extract()` 函数是 `compact()` 的逆操作，它将一个数组分离成多个变量。
- **格式：** `extract(数组名)`
- **功能：** 数组的**键名**成为变量的**名称**，数组的**值**成为变量的**值**。
- **注意：** 数组的键名必须是合法的变量名（即字母或下划线开头） 。
示例 ：
```php
<?php
$a = array("key1" => 1, "key2" => 2, "key3" => 3);

// 将数组 $a 分离成 $key1, $key2, $key3
extract($a); 

echo "\$key1 = $key1, \$key2 = $key2, \$key3 = $key3";
// 输出: $key1 = 1, $key2 = 2, $key3 = 3
?>
```
# 4 遍历数组（使用内部指针）
PHP 为每个数组维护一个内部指针，指向当前元素。可以使用一组函数来操作这个指针并遍历数组。
- `reset(数组名)`：把数组指针移到**第一个**元素 。
- `end(数组名)`：把数组指针移到**最后一个**元素 。
- `next(数组名)`：把数组指针移向**下一个**元素 。
- `prev(数组名)`：把数组指针移向**上一个**元素 。
- `key(数组名)`：获取数组**当前**元素的**键名** 。
- `each(数组名)`：（注：此函数在 PHP 7.2 中已被弃用，建议使用 `foreach`）取数组当前元素的键名和值，并把指针移向下一个元素 。
示例（使用 `next` 和 `key` 遍历）：
```php
<?php
$arr = array("color" => "red", "name" => "Sandy", "age" => 20);

// 1. 将指针复位到开头 (虽然默认在开头，但这是好习惯)
reset($arr); 

// 2. 使用 for 循环和 count 遍历
for ($i = 0; $i < count($arr); $i++) {
    // 3. 获取当前指针位置的键名
    echo key($arr) . ",";
    
    // 4. 将指针移动到下一个
    next($arr);
}
// 输出: color,name,age,
?>
```
**说明：** 这种手动管理指针的方式在现代PHP中已不常用，`foreach` 循环是更推荐的遍历方式。