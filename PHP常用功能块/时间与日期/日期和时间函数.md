# 日期和时间函数

# 1 获取日期与时间

## 1.1 date() 函数
`date()`用于将 UNIX 时间格式化为人类的日期和时间字符串的函数。
```php
date(格式[, 时间戳])
```
功能：
- `格式`：这是一个简单的字符串，由特殊的“格式字符”组成，用于指定输出的样式（例如`Y`代表四个年份，`m`代表月份）。
- `时间戳`：这是一个可选参数。如果省略此参数，`date()`函数将自动使用当前的系统时间（即当前的UNIX时钟）。
### 1.1.1 获取完整的当前系统时间
```php
<?php
// Y-m-d H:i:s 是最常用的格式
echo date("Y-m-d H:i:s");
// 输出: (类似于) 2025-11-14 09:17:46
?>
```
### 1.1.2 获取当前的系统日期
```php
<?php
echo date("Y-m-d");
// 输出: (类似于) 2025-11-14
?>
```
### 1.1.3 统计一个指定的时间
```php
<?php
// 先将一个日期字符串转换为时间戳
$ts = strtotime("2016-11-18 23:44:00");

// 再将这个时间戳格式化为 "Y-m-d"
echo date("Y-m-d", $ts);
// 输出: 2016-11-18
?>
```
## 1.2 getdate() 函数
`getdate()`用于获取日期和时间信息的函数，将它们转换到关联阵列中。
```php
数组名 = getdate([时间戳]);
```
功能：
- 如果不提供可选的`时间戳`参数，则自动使用当前的系统时间。
- 它返回一个包含详细时间单元的关联阵列。
- `seconds`(秒数)
- `minutes`(分钟)
- `hours`(小时)
- `mday`(月份中的第几天)
- `mon`(月份数字)
- `year`（年份）
- `weekday`（几周的文本）
# 2 其他日期与时间函数
## 2.1 检查日期是否有效 ( checkdate )
- 函数： `checkdate()`
- 功能：此函数用于检查一个日期数据是否是真实有效的（例如，检查是否存在“2月30日”这样的无效日期）。
```php
bool checkdate(int $month, int $day, int $year)
```
说明：
- 它会检查`year`是否在 1 到 32767 之间。
- 检查`month`是否在 1 到 12 之间。
- 检查`day`是否在该月份的有效天数范围内（会自动考虑闰年）。
- 如果日期有效，返回`true`；否则返回`false`。
```php
<?php
// 检查 2000年12月31日 (有效)
var_dump(checkdate(12, 31, 2000)); // 输出: bool(true)

// 检查 2001年2月29日 (2001年不是闰年，无效)
var_dump(checkdate(2, 29, 2001)); // 输出: bool(false)
?>
```
## 2.2 设置时区 ( date_default_timezone_set )
- 函数： `date_default_timezone_set()`
- 功能：此函数用于修改PHP脚本当前使用的时区。
```php
bool date_default_timezone_set(string $timezone_identifier)
```
说明：
- 有时，服务器的默认时区（例如在`php.ini`中设置为“UTC”）可能与本地时间不同这会导致`date()`函数获取的时间与本地时间有差异（例如，扩展8小时）。
- 在这种情况下，可以在脚本中使用此函数来设置正确的时区。
- 例如，中国内地可用的时区标识有“亚洲/重庆”、“亚洲/上海”、“亚洲/乌鲁木齐”，或者直接使用“PRC”。