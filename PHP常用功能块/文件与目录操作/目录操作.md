# 目录操作

# 1 创建目录

- 函数： `mkdir()`
- 格式： 
```php
mkdir("目录路径");
```
- 功能：创建一个由`目录路径`指定的新目录。创建成功则返回`true`，否则返回`false` 。
在当前目录中创建测试目录：
```php
<?php
if (mkdir("test")) echo "创建成功!";
?>
```
- 程序解释：在当前目录（页面所在目录）下创建一个新目录 `mkdir("test")` 。
# 2 删除空目录
- 函数： `rmdir()`
- 格式： 
```php
rmdir("目录路径");
```
- 功能：删除一个空目录 。删除成功则返回`true`，否则返回`false` 。
- 说明：如果目录不为空，必须先删除目录中的所有文件才能删除该目录。
先创建路径目录，然后删除它：
```php
<?php
mkdir("path"); 
if (rmdir("path")) echo "删除成功!"; 
?>
```
# 3 获取当前工作目录
- 函数： `getcwd()`
- 格式： 
```php
getcwd();
```
- 功能：获取当前正在运行的PHP文件所在的目录（即当前工作目录）。
输出当前目录：
```php
<?php
echo getcwd(); // 返回当前目录
?>
```
# 4 打开和读取目​​录内容
读取目录内容通常涉及三个步骤：打开目录、循环读取、关闭目录。
## 4.1 开放目录： `opendir()`
格式： 
```php
目录句柄 = opendir("目录路径");
```
功能：打开指定的目录，并返回一个“目录句柄”（一个资源），后续函数将使用该句柄来操作目录。
## 4.2 上市目录内容： `readdir()`
格式： 
```php
字符串 = readdir(目录句柄);
```
功能：读取`目录句柄`一个文件或文件夹的名称。通常在一个`while`循环中重复调用此函数，以需要读取目录中的所有条目。  
## 4.3 关闭目录： `closedir()`
格式： 
```php
closedir(目录句柄);
```
功能：关闭已经打开的目录句柄，释放资源。
使用`readdir()`函数遍历MyPHP目录：
```php
<?php
$dir = "./MyPHP"; // 要打开的目录

// 1. 打开目录句柄
$dir_handle = opendir($dir);
// 2. 读取目录中的文件名或文件夹名
if ($dir_handle) {
    // 3. 循环读取
    while ($file = readdir($dir_handle)) {
        echo $file . "<br/>";
    }
    // 4. 关闭目录句柄
    closedir($dir_handle);
}
?>
```
# 5 上市目录内容 (scandir)
这是一个更简单的方法，可以直接将目录中的所有文件名和文件夹名读入一个数据库。
- 函数： `scandir()`
- 格式： 
```php
数组名 = scandir("目录路径");
```
- 功能：将指定路径中的所有文件名和文件夹名依序存入一个数据库中。
使用`scandir()`函数遍历MyPHP目录：
```php
<?php
$dir = "./MyPHP";
// 1. 将所有条目读入数组 $filelist
$filelist = scandir($dir);
// 2. 遍历数组
foreach ($filelist as $file) {
    echo $file . "<br/>";
}
?>
```