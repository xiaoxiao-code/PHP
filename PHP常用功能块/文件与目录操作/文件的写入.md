# 文件的写入

# 1 使用 fwrite() 函数

`fwrite()`是通讯的文件读取函数，它需要一个由`fopen()`返回的文件句柄。
```php
$num = fwrite(文件句柄, 字符串[, $length]);
```
功能：
- 将`字符串`写入到`文件句柄`指向的文件中。
- `$length`是一个可选参数，如果提供，则表示最多写入`$length`个字节。
- 如果写入成功，函数返回写入的字节数（`$num`）；如果失败则返回`false` 。
使用`fwrite()`写入文件
```php
<?php
// 1. 以 "w" (只写) 模式打开文件。如果文件已存在，内容会被清空。
$handle = fopen("p2.php", "w"); 

if ($handle) {
    // 2. 向文件句柄写入字符串
    $num = fwrite($handle, "汕头职业技术学院"); 

    if ($num) {
        echo "写入文件成功<br>"; 
        // 3. 输出写入的字节数
        echo "写入的字节数为:" . $num . "<br>"; 
    } else {
        echo "写入文件失败<br>";
    }

    // 4. 关闭文件句柄
    fclose($handle); 
} else {
    echo "打开文件 p2.php 失败";
}
?>
```
# 2 使用 file_put_contents() 函数
`file_put_contents()`是一个更方便的功能，这`fopen()`、`fwrite()`和`fclose()`的功能合并为一步。
```php
$num = file_put_contents("文件路径", 字符串);
```
功能：
- 将`字符串`写入到`文件路径`指定的文件中。
- 如果文件不存在，该函数会自动创建文件。
- 如果文件已存在，新数据将覆盖旧数据。
- 函数返回写入的字节数（`$num`），失败则返回`false` 。
使用`file_put_contents()`写入文件
```php
<?php
$str = "汕头职业技术学院";
// 1. 直接将 $str 写入 p2.php，函数会自动打开、写入和关闭文件
$num = file_put_contents("p2.php", $str); 

if ($num) {
    echo "写入文件成功<br>"; 
    echo "写入的字节数为:" . $num; 
} else {
    echo "写入文件失败"; 
}
?>
```