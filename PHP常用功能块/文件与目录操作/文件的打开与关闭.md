# 文件的打开与关闭

# 打开文件

函数： `fopen()`
```php
文件句柄 = fopen("文件路径", "mode");
```
功能：
- 此函数用于打开一个文件，并返回一个“文件句柄”（一个资源变量），后续的文件读写函数都将使用这个句柄。
- `"文件路径"`可以是绝对路径，也可以是相对路径。
- `"mode"`是简单的参数，它指定了文件的访问模式（例如只读、只写、追加等）。
## 文件的访问模式（mode）
常用的`mode`参数如下：
- `'r'`（注）：
    - 格式方式打开文件，文件指针指向文件路径。
    - 如果文件不存在，返回`false`（并报错）。
- `'r+'`（读写）：
    - 读写方式打开文件，文件指针指向文件路径。
    - 如果文件不存在，返回`false`（并报错）。
- `'w'`(只写)：
    - 只写方式打开文件，文件指针指向文件路径。
    - 如果文件已存在，则为清空文件内容。
    - 如果文件不存在，则尝试创建新文件。
- `'w+'`（读写）：
    - 读写方式打开文件，文件指针指向文件路径。
    - 如果文件已存在，则为清空文件内容。
    - 如果文件不存在，则尝试创建新文件。
- `'a'`补充：
    - 只写方式打开文件，文件指针指向文件。
    - 如果文件不存在，则尝试创建新文件。
- `'a+'`（读写）：
    - 读写方式打开文件，文件指针指向文件。
    - 如果文件不存在，则尝试创建新文件。
# 关闭文件
函数： `fclose()`
```php
fclose(文件句柄);
```
功能：文件处理完毕后，必须使用`fclose()`函数来关闭已打开的文件句柄，以释放资源。
# 文件打开与关闭示例
此示例演示了如何以读写方式（`"r+"`）打开一个已存在的文件，检查是否打开成功，然后将其关闭。
```php
<?php
// 假设 EX8-6.php 文件已存在于同一目录
// 1. 使用 "r+" (读写) 模式打开文件
$handle = fopen("EX8-6.php", "r+");

// 2. 检查文件句柄是否有效
if ($handle) {
    echo "打开成功"; 
} else {
    echo "打开失败"; 
}

// 3. 关闭文件句柄
fclose($handle);
?>
```